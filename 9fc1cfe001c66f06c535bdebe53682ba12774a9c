{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "fae724ac_9ab4f219",
        "filename": "components/cronet/android/api/src/android/net/http/ConnectionMigrationOptions.java",
        "patchSetId": 2
      },
      "lineNbr": 275,
      "author": {
        "id": 1743321
      },
      "writtenOn": "2023-02-01T13:58:51Z",
      "side": 1,
      "message": "nit: also mark the parameter as null/non-null or drop.",
      "range": {
        "startLine": 275,
        "startChar": 8,
        "endLine": 275,
        "endChar": 16
      },
      "revId": "9fc1cfe001c66f06c535bdebe53682ba12774a9c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "0c5f65e4_06dbf5d9",
        "filename": "components/cronet/android/api/src/android/net/http/ConnectionMigrationOptions.java",
        "patchSetId": 2
      },
      "lineNbr": 275,
      "author": {
        "id": 1976566
      },
      "writtenOn": "2023-02-02T14:05:30Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "fae724ac_9ab4f219",
      "range": {
        "startLine": 275,
        "startChar": 8,
        "endLine": 275,
        "endChar": 16
      },
      "revId": "9fc1cfe001c66f06c535bdebe53682ba12774a9c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f4f71f90_5009de79",
        "filename": "components/cronet/android/api/src/android/net/http/ConnectionMigrationOptions.java",
        "patchSetId": 2
      },
      "lineNbr": 315,
      "author": {
        "id": 1743321
      },
      "writtenOn": "2023-02-01T13:58:51Z",
      "side": 1,
      "message": "nit: same as above",
      "range": {
        "startLine": 315,
        "startChar": 9,
        "endLine": 315,
        "endChar": 16
      },
      "revId": "9fc1cfe001c66f06c535bdebe53682ba12774a9c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "bff29b86_9a8dbc9c",
        "filename": "components/cronet/android/api/src/android/net/http/HttpEngine.java",
        "patchSetId": 2
      },
      "lineNbr": 68,
      "author": {
        "id": 1743321
      },
      "writtenOn": "2023-02-01T13:58:51Z",
      "side": 1,
      "message": "nit: additional whitespace",
      "range": {
        "startLine": 68,
        "startChar": 32,
        "endLine": 68,
        "endChar": 33
      },
      "revId": "9fc1cfe001c66f06c535bdebe53682ba12774a9c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "eb1b39cf_4fa0bfbd",
        "filename": "components/cronet/android/api/src/android/net/http/HttpEngine.java",
        "patchSetId": 2
      },
      "lineNbr": 68,
      "author": {
        "id": 1976566
      },
      "writtenOn": "2023-02-02T14:05:30Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "bff29b86_9a8dbc9c",
      "range": {
        "startLine": 68,
        "startChar": 32,
        "endLine": 68,
        "endChar": 33
      },
      "revId": "9fc1cfe001c66f06c535bdebe53682ba12774a9c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "82215ab5_9c4c9780",
        "filename": "components/cronet/android/api/src/android/net/http/HttpEngine.java",
        "patchSetId": 2
      },
      "lineNbr": 106,
      "author": {
        "id": 1743321
      },
      "writtenOn": "2023-02-01T13:58:51Z",
      "side": 1,
      "message": "This makes to me since internally we set the user agent to the default one when `userAgent \u003d\u003d null`. Though Android API Council doesn\u0027t agree with this[1]: we currently have the setter accept a nullable parameter but the getter is always non-null.\n\nI\u0027m not sure if we should change the API or just live with this discrepancy?\n\n[1] go/android-api-guidelines#symmetric-nullability",
      "range": {
        "startLine": 106,
        "startChar": 36,
        "endLine": 106,
        "endChar": 45
      },
      "revId": "9fc1cfe001c66f06c535bdebe53682ba12774a9c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f64ec13f_1fc6fa32",
        "filename": "components/cronet/android/api/src/android/net/http/HttpEngine.java",
        "patchSetId": 2
      },
      "lineNbr": 106,
      "author": {
        "id": 1976566
      },
      "writtenOn": "2023-02-02T14:05:30Z",
      "side": 1,
      "message": "I feel like we should make it non-null. We dont expect users to call setter here with a null argument.\n\nwill leave this open for the api reviewer",
      "parentUuid": "82215ab5_9c4c9780",
      "range": {
        "startLine": 106,
        "startChar": 36,
        "endLine": 106,
        "endChar": 45
      },
      "revId": "9fc1cfe001c66f06c535bdebe53682ba12774a9c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "15be6409_0500f7eb",
        "filename": "components/cronet/android/api/src/android/net/http/HttpEngine.java",
        "patchSetId": 2
      },
      "lineNbr": 106,
      "author": {
        "id": 1743321
      },
      "writtenOn": "2023-02-02T14:27:53Z",
      "side": 1,
      "message": "If we\u0027re planning on maintaining backward compatibility we cannot do that, unless we handle this in the `org.chromium.net -\u003e android.net.http` adapter.\n\nAnyway, agreed. Let\u0027s defer this decision to next week (when Dan is back etc.etc.).",
      "parentUuid": "f64ec13f_1fc6fa32",
      "range": {
        "startLine": 106,
        "startChar": 36,
        "endLine": 106,
        "endChar": 45
      },
      "revId": "9fc1cfe001c66f06c535bdebe53682ba12774a9c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "23b0696e_f6e1f7da",
        "filename": "components/cronet/android/api/src/android/net/http/HttpEngine.java",
        "patchSetId": 2
      },
      "lineNbr": 106,
      "author": {
        "id": 1978840
      },
      "writtenOn": "2023-02-06T14:44:10Z",
      "side": 1,
      "message": "Handling similar changes in the adapter is a perfectly valid course of action.\n\nI\u0027m in favor of keeping the annotations as they are - that is, accepting a Nullable parameter and returning a NonNull value. Note that the recommendation only applies to methods of the same class, and not to builders (recommendations for builders are covered separately under 6.6).",
      "parentUuid": "15be6409_0500f7eb",
      "range": {
        "startLine": 106,
        "startChar": 36,
        "endLine": 106,
        "endChar": 45
      },
      "revId": "9fc1cfe001c66f06c535bdebe53682ba12774a9c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4cc9c903_f1758681",
        "filename": "components/cronet/android/api/src/android/net/http/HttpEngine.java",
        "patchSetId": 2
      },
      "lineNbr": 123,
      "author": {
        "id": 1743321
      },
      "writtenOn": "2023-02-01T13:58:51Z",
      "side": 1,
      "message": "I think this should be `@NonNull`: `CronetEngineBuilderImpl#setStoragePath` internally calls `File#File`[1] which throws a `NullPointerException` if `path  \u003d\u003d null`[2].\n\n[1] https://source.chromium.org/chromium/chromium/src/+/main:components/cronet/android/java/src/org/chromium/net/impl/CronetEngineBuilderImpl.java;l\u003d186;drc\u003dbb3b4d73e56f7c6d8494b398a703c13fa5d08d2f\n[2] https://docs.oracle.com/javase/7/docs/api/java/io/File.html#File(java.lang.String)",
      "range": {
        "startLine": 123,
        "startChar": 38,
        "endLine": 123,
        "endChar": 47
      },
      "revId": "9fc1cfe001c66f06c535bdebe53682ba12774a9c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3209fdbb_2c02d1cb",
        "filename": "components/cronet/android/api/src/android/net/http/HttpEngine.java",
        "patchSetId": 2
      },
      "lineNbr": 123,
      "author": {
        "id": 1976566
      },
      "writtenOn": "2023-02-02T14:05:30Z",
      "side": 1,
      "message": "this also brings up the symmetric-nullability question. ie when we add getStoragePath, setting it as NonNull wouldn\u0027t work because if setStoragePath is never called, the storage path will be null.\nWe can add a null check to the method itself to fix this.",
      "parentUuid": "4cc9c903_f1758681",
      "range": {
        "startLine": 123,
        "startChar": 38,
        "endLine": 123,
        "endChar": 47
      },
      "revId": "9fc1cfe001c66f06c535bdebe53682ba12774a9c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d2d7e946_285b1acb",
        "filename": "components/cronet/android/api/src/android/net/http/HttpEngine.java",
        "patchSetId": 2
      },
      "lineNbr": 123,
      "author": {
        "id": 1743321
      },
      "writtenOn": "2023-02-02T14:27:53Z",
      "side": 1,
      "message": "I\u0027m guessing the getter should be marked as `@NonNull` and throw something like an `java.lang.IllegalStateException` if it\u0027s called before setting this?\n\ngo/android-api-guidelines#classes-avoid-optional says to do that for primitive types, but I guess it can also be applied to this case?",
      "parentUuid": "3209fdbb_2c02d1cb",
      "range": {
        "startLine": 123,
        "startChar": 38,
        "endLine": 123,
        "endChar": 47
      },
      "revId": "9fc1cfe001c66f06c535bdebe53682ba12774a9c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0c2c0a6b_528b2dcb",
        "filename": "components/cronet/android/api/src/android/net/http/HttpEngine.java",
        "patchSetId": 2
      },
      "lineNbr": 219,
      "author": {
        "id": 1743321
      },
      "writtenOn": "2023-02-01T13:58:51Z",
      "side": 1,
      "message": "Should we add a null check in the impl code https://source.chromium.org/chromium/chromium/src/+/main:components/cronet/android/java/src/org/chromium/net/impl/CronetEngineBuilderImpl.java;l\u003d303;drc\u003dbb3b4d73e56f7c6d8494b398a703c13fa5d08d2f;bpv\u003d1;bpt\u003d1?",
      "range": {
        "startLine": 219,
        "startChar": 35,
        "endLine": 219,
        "endChar": 55
      },
      "revId": "9fc1cfe001c66f06c535bdebe53682ba12774a9c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ae1c556b_7005cf11",
        "filename": "components/cronet/android/api/src/android/net/http/HttpEngine.java",
        "patchSetId": 2
      },
      "lineNbr": 219,
      "author": {
        "id": 1976566
      },
      "writtenOn": "2023-02-02T14:05:30Z",
      "side": 1,
      "message": "I don\u0027t think we need to if we are already annotating as nonNull? Not sure what the guideline is",
      "parentUuid": "0c2c0a6b_528b2dcb",
      "range": {
        "startLine": 219,
        "startChar": 35,
        "endLine": 219,
        "endChar": 55
      },
      "revId": "9fc1cfe001c66f06c535bdebe53682ba12774a9c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e9c5bb62_e81db1c1",
        "filename": "components/cronet/android/api/src/android/net/http/HttpEngine.java",
        "patchSetId": 2
      },
      "lineNbr": 219,
      "author": {
        "id": 1743321
      },
      "writtenOn": "2023-02-02T14:27:53Z",
      "side": 1,
      "message": "I\u0027m basing this on\n```\nMethods are recommended to perform input validation for @NonNull parameters via\nObjects.requireNonNull() and throw a NullPointerException when the parameters are\nnull\n```\nfrom go/android-api-guidelines#nullability.",
      "parentUuid": "ae1c556b_7005cf11",
      "range": {
        "startLine": 219,
        "startChar": 35,
        "endLine": 219,
        "endChar": 55
      },
      "revId": "9fc1cfe001c66f06c535bdebe53682ba12774a9c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6be3557f_57646d58",
        "filename": "components/cronet/android/api/src/android/net/http/HttpEngine.java",
        "patchSetId": 2
      },
      "lineNbr": 303,
      "author": {
        "id": 1743321
      },
      "writtenOn": "2023-02-01T13:58:51Z",
      "side": 1,
      "message": "Missing `@NonNull`.",
      "range": {
        "startLine": 303,
        "startChar": 38,
        "endLine": 303,
        "endChar": 49
      },
      "revId": "9fc1cfe001c66f06c535bdebe53682ba12774a9c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "397fd1b9_dac7323f",
        "filename": "components/cronet/android/api/src/android/net/http/HttpEngine.java",
        "patchSetId": 2
      },
      "lineNbr": 303,
      "author": {
        "id": 1976566
      },
      "writtenOn": "2023-02-02T14:05:30Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "6be3557f_57646d58",
      "range": {
        "startLine": 303,
        "startChar": 38,
        "endLine": 303,
        "endChar": 49
      },
      "revId": "9fc1cfe001c66f06c535bdebe53682ba12774a9c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4b9949f3_729a6889",
        "filename": "components/cronet/android/api/src/android/net/http/HttpEngine.java",
        "patchSetId": 2
      },
      "lineNbr": 406,
      "author": {
        "id": 1743321
      },
      "writtenOn": "2023-02-01T13:58:51Z",
      "side": 1,
      "message": "I think this should be `@NonNull`, an engine should never return a null version string.",
      "range": {
        "startLine": 406,
        "startChar": 4,
        "endLine": 406,
        "endChar": 13
      },
      "revId": "9fc1cfe001c66f06c535bdebe53682ba12774a9c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "125d245e_3a2d1750",
        "filename": "components/cronet/android/api/src/android/net/http/HttpEngine.java",
        "patchSetId": 2
      },
      "lineNbr": 406,
      "author": {
        "id": 1976566
      },
      "writtenOn": "2023-02-02T14:05:30Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "4b9949f3_729a6889",
      "range": {
        "startLine": 406,
        "startChar": 4,
        "endLine": 406,
        "endChar": 13
      },
      "revId": "9fc1cfe001c66f06c535bdebe53682ba12774a9c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "10eb2841_9a5af605",
        "filename": "components/cronet/android/api/src/android/net/http/HttpEngine.java",
        "patchSetId": 2
      },
      "lineNbr": 486,
      "author": {
        "id": 1743321
      },
      "writtenOn": "2023-02-01T13:58:51Z",
      "side": 1,
      "message": "`@NonNull`?",
      "range": {
        "startLine": 486,
        "startChar": 49,
        "endLine": 486,
        "endChar": 52
      },
      "revId": "9fc1cfe001c66f06c535bdebe53682ba12774a9c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "dba1196d_202f122e",
        "filename": "components/cronet/android/api/src/android/net/http/HttpEngine.java",
        "patchSetId": 2
      },
      "lineNbr": 486,
      "author": {
        "id": 1976566
      },
      "writtenOn": "2023-02-02T14:05:30Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "10eb2841_9a5af605",
      "range": {
        "startLine": 486,
        "startChar": 49,
        "endLine": 486,
        "endChar": 52
      },
      "revId": "9fc1cfe001c66f06c535bdebe53682ba12774a9c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}