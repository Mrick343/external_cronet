{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "0226bee7_8ce6bb98",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1750078
      },
      "writtenOn": "2023-11-14T11:38:30Z",
      "side": 1,
      "message": "Depfiles are not used when compiling Cronet in AOSP. They are remnants that we had to copy over from Chromium due to how Chromium build system works, If we merge this change then the next import will certainly overwrite it and we don\u0027t want that to happen. We should probably stop using depfiles completely by setting them to some empty path.\n\nIf this is urgent then we can merge it. However, this is a short-term solution.",
      "revId": "2d418269180aac0997c297a07317e838940ffc59",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "74f0d783_f0676d3f",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1112368
      },
      "writtenOn": "2023-11-14T14:51:37Z",
      "side": 1,
      "message": "I get what you\u0027re saying, but at least for Android 14 it makes sense to pull this in and merge my opinion.\n\nconsidering that working toward depfile deprecation sounds like a longer road.",
      "parentUuid": "0226bee7_8ce6bb98",
      "revId": "2d418269180aac0997c297a07317e838940ffc59",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "847b44b7_7994d660",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1112368
      },
      "writtenOn": "2023-11-14T14:51:55Z",
      "side": 1,
      "message": "and to clarify, I picked this change to Android 14-dev on the same change ID",
      "revId": "2d418269180aac0997c297a07317e838940ffc59",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "cf20cb55_9c781fd7",
        "filename": "build/action_helpers.py",
        "patchSetId": 3
      },
      "lineNbr": 84,
      "author": {
        "id": 1750078
      },
      "writtenOn": "2023-11-14T15:52:52Z",
      "side": 1,
      "message": "This is also not used anywhere.",
      "range": {
        "startLine": 84,
        "startChar": 2,
        "endLine": 84,
        "endChar": 87
      },
      "revId": "2d418269180aac0997c297a07317e838940ffc59",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "3bb2dfb2_a518a64c",
        "filename": "build/action_helpers.py",
        "patchSetId": 3
      },
      "lineNbr": 84,
      "author": {
        "id": 1112368
      },
      "writtenOn": "2023-11-15T03:38:37Z",
      "side": 1,
      "message": "Sorry, in cleaning up this patch from PS1, important bits were lost, fixed.",
      "parentUuid": "cf20cb55_9c781fd7",
      "range": {
        "startLine": 84,
        "startChar": 2,
        "endLine": 84,
        "endChar": 87
      },
      "revId": "2d418269180aac0997c297a07317e838940ffc59",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6f33a609_935e1e70",
        "filename": "build/action_helpers.py",
        "patchSetId": 3
      },
      "lineNbr": 90,
      "author": {
        "id": 1750078
      },
      "writtenOn": "2023-11-14T15:52:52Z",
      "side": 1,
      "message": "Why are we excluding java.sources?",
      "range": {
        "startLine": 90,
        "startChar": 4,
        "endLine": 90,
        "endChar": 93
      },
      "revId": "2d418269180aac0997c297a07317e838940ffc59",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f526f759_2e7af1b2",
        "filename": "build/action_helpers.py",
        "patchSetId": 3
      },
      "lineNbr": 90,
      "author": {
        "id": 1112368
      },
      "writtenOn": "2023-11-15T03:38:37Z",
      "side": 1,
      "message": "Not sure if this is leftover from some debugging, or intentional, I\u0027ll ask commit author.",
      "parentUuid": "6f33a609_935e1e70",
      "range": {
        "startLine": 90,
        "startChar": 4,
        "endLine": 90,
        "endChar": 93
      },
      "revId": "2d418269180aac0997c297a07317e838940ffc59",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "1bd66f84_66248540",
        "filename": "build/action_helpers.py",
        "patchSetId": 3
      },
      "lineNbr": 90,
      "author": {
        "id": 1112368
      },
      "writtenOn": "2023-11-15T22:38:06Z",
      "side": 1,
      "message": "tried it locally, if we removed this:\n\nssertionError: Found abs path in depfile: /mnt/out/out/lineage-21/soong/.temp/sbox/5bccfcc00b5157e46d70a548da1566d61a4a83d3/out/java.sources\nexit status 1\n[ 35% 60844/172580] //external/cronet:cronet_aml_components_cronet_android_cronet_jni_reg\nFAILED: /mnt/out/out/lineage-21/soong/.intermediates/external/cronet/cronet_aml_components_cronet_android_cronet_jni_registration__java/android_common/gen/components/cronet/android/cronet_jni_registration.srcjar\n/mnt/out/out/lineage-21/host/linux-x86/bin/sbox --sandbox-path /mnt/out/out/lineage-21/soong/.temp --output-dir /mnt/out/out/lineage-21/soong/.intermediates/external/cronet/cronet_aml_components_cronet_android_cronet_jni_registration__java/android_common/gen --manifest /mnt/out/out/lineage-21/soong/.intermediates/external/cronet/cronet_aml_components_cronet_android_cronet_jni_registration__java/android_common/genrule.sbox.textproto\nThe failing command was run inside an sbox sandbox in temporary directory\n/mnt/out/out/lineage-21/soong/.temp/sbox/0a7ebcec3a9ebe954bdfd7984dfd096ece5d46cc\nThe failing command line can be found in\n/mnt/out/out/lineage-21/soong/.temp/sbox/0a7ebcec3a9ebe954bdfd7984dfd096ece5d46cc/sbox_command.0.bash\nTraceback (most recent call last):\n  File \"/mnt/out/out/lineage-21/soong/.temp/sbox/0a7ebcec3a9ebe954bdfd7984dfd096ece5d46cc/tools/src/external/cronet/base/android/jni_generator/jni_registration_generator.py\", line 921, in \u003cmodule\u003e\n    sys.exit(main(sys.argv))\n  File \"/mnt/out/out/lineage-21/soong/.temp/sbox/0a7ebcec3a9ebe954bdfd7984dfd096ece5d46cc/tools/src/external/cronet/base/android/jni_generator/jni_registration_generator.py\", line 916, in main\n    action_helpers.write_depfile(args.depfile, args.srcjar_path,\n  File \"/mnt/out/out/lineage-21/soong/.temp/sbox/0a7ebcec3a9ebe954bdfd7984dfd096ece5d46cc/tools/src/external/cronet/base/android/jni_generator/../../../build/android/gyp/util/../../../action_helpers.py\", line 91, in write_depfile\n    relative_inputs \u003d [_process_path(p) for p in set(inputs)]\n  File \"/mnt/out/out/lineage-21/soong/.temp/sbox/0a7ebcec3a9ebe954bdfd7984dfd096ece5d46cc/tools/src/external/cronet/base/android/jni_generator/../../../build/android/gyp/util/../../../action_helpers.py\", line 91, in \u003clistcomp\u003e\n    relative_inputs \u003d [_process_path(p) for p in set(inputs)]\n  File \"/mnt/out/out/lineage-21/soong/.temp/sbox/0a7ebcec3a9ebe954bdfd7984dfd096ece5d46cc/tools/src/external/cronet/base/android/jni_generator/../../../build/android/gyp/util/../../../action_helpers.py\", line 78, in _process_path\n    assert not os.path.isabs(path), f\u0027Found abs path in depfile: {path}\u0027\nAssertionError: Found abs path in depfile: /mnt/out/out/lineage-21/soong/.temp/sbox/0a7ebcec3a9ebe954bdfd7984dfd096ece5d46cc/out/java.sources\nexit status 1\n[ 35% 60861/172580] //packages/modules/Bluetooth/system/gd:BluetoothGeneratedPackets_rust\nout dir: \"/mnt/out/out/lineage-21/soong/.temp/sbox/2bf7d889d55cfcf13342d2325205585a6299e9aa/out\"\nparsing: \"/home/nolenjohnson/lineage-21/packages/modules/Bluetooth/system/gd/hci/hci_packets.pdl\"\ngenerating rust\ngenerating \"/mnt/out/out/lineage-21/soong/.temp/sbox/2bf7d889d55cfcf13342d2325205585a6299e9aa/out/hci/hci_packets.rs\"\n[ 35% 60866/172580] APK certs list: /mnt/out/out/lineage-21/target/product/nash/obj/PACKA\n    0:50 Building bootanimation.zip",
      "parentUuid": "f526f759_2e7af1b2",
      "range": {
        "startLine": 90,
        "startChar": 4,
        "endLine": 90,
        "endChar": 93
      },
      "revId": "2d418269180aac0997c297a07317e838940ffc59",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5471cef9_2f24e89f",
        "filename": "build/action_helpers.py",
        "patchSetId": 3
      },
      "lineNbr": 93,
      "author": {
        "id": 1750078
      },
      "writtenOn": "2023-11-14T15:52:52Z",
      "side": 1,
      "message": "This is not used anywhere",
      "range": {
        "startLine": 92,
        "startChar": 4,
        "endLine": 93,
        "endChar": 61
      },
      "revId": "2d418269180aac0997c297a07317e838940ffc59",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "9449d5c6_e820a41a",
        "filename": "build/action_helpers.py",
        "patchSetId": 3
      },
      "lineNbr": 93,
      "author": {
        "id": 1112368
      },
      "writtenOn": "2023-11-15T03:38:37Z",
      "side": 1,
      "message": "Sorry, in cleaning up this patch from PS1, important bits were lost, fixed.",
      "parentUuid": "5471cef9_2f24e89f",
      "range": {
        "startLine": 92,
        "startChar": 4,
        "endLine": 93,
        "endChar": 61
      },
      "revId": "2d418269180aac0997c297a07317e838940ffc59",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}