{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "89b63784_08e8f023",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1976566
      },
      "writtenOn": "2023-04-19T08:17:47Z",
      "side": 1,
      "message": "Hi Jahim, we need to changes to be able to collect coverage from these tests. See b/276710489. I looked at the linked bug but I don\u0027t really understand the problem. Could you summarise it? Thanks.",
      "revId": "13f0f399c59a8914186d9eb0d746994396eb03b0",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "dde8b502_2d1c66b0",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1903040
      },
      "writtenOn": "2023-04-19T23:18:20Z",
      "side": 1,
      "message": "using `test_suites` for the helper apps installs the helper apps in those suites and when you use `required` for a module, those required helper apps will be installed wherever this module is installed.\n\nWe prefer declaring this kind of dependency in the `data` field. when `data` field is used to declare dependencies, they are copied to the same folder as the test. This allow Tradefed to isolate test modules and enable features like partial download(we will only download dependencies that a test needs instead of everything that was included in the suites zip file).\n\nWhen you declare dependencies with `data` field, you don\u0027t need to separately use `test_suites` for the helper apps. They will be installed wherever the test module is installed.",
      "parentUuid": "89b63784_08e8f023",
      "revId": "13f0f399c59a8914186d9eb0d746994396eb03b0",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "450ea097_ef266825",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1976566
      },
      "writtenOn": "2023-04-20T21:02:22Z",
      "side": 1,
      "message": "Hi Jahin, thanks for the full explanation. Unfortunately, when we add the dep as data, the script copied over the non-coverage enabled apk. See log[1] with data config vs log[2] with `required + test_suites` config.\n\n@kunniu@google.com, are you aware of the java_test_host config we can use to allow us use `data` config and still copy the coverage-enabled apk in test_suites_x86_64_coverage?\n\n[1] https://android-build.googleplex.com/builds/build-details/9871123/targets/test_suites_x86_64_coverage : file logs/build.log\n[2] https://android-build.corp.google.com/build_explorer/artifacts_list/9974746/test_suites_x86_64_coverage/latest/",
      "parentUuid": "dde8b502_2d1c66b0",
      "revId": "13f0f399c59a8914186d9eb0d746994396eb03b0",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}